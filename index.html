<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Inteligencia Emocional</title>
    <!-- Link to external CSS file -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Firebase App (the core Firebase SDK) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <!-- Firebase Firestore -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
</head>
<body>
    <!-- Header section with the main title -->
    <header>
        <h1>Test de Inteligencia Emocional</h1>
    </header>
    
    <!-- Introduction section explaining the test -->
    <div class="intro">
        <p>Las preguntas que encontrarás en este TEST se refieren a la manera habitual que tienes de actuar con las personas con quienes te relacionas. No existen respuestas buenas ni malas, sino respuestas sinceras que deben reflejar tu estilo, tu modo habitual de pensar, hacer y sentir.</p>
    </div>
    
    <!-- Demographic data section (new) -->
    <div id="demographic-section" class="section">
        <h2>Datos Demográficos</h2>
        <p>Por favor, complete la siguiente información para fines de análisis. Todos los datos serán tratados de forma confidencial.</p>
        
        <div class="form-group">
            <label for="age">Edad:</label>
            <input type="number" id="age" name="age" min="18" max="100" required>
        </div>
        
        <div class="form-group">
            <label for="gender">Género:</label>
            <select id="gender" name="gender" required>
                <option value="">Seleccione una opción</option>
                <option value="male">Masculino</option>
                <option value="female">Femenino</option>
                <option value="nonbinary">No binario</option>
                <option value="other">Otro</option>
                <option value="prefer_not_to_say">Prefiero no decirlo</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="education">Nivel de educación:</label>
            <select id="education" name="education" required>
                <option value="">Seleccione una opción</option>
                <option value="primary">Primaria</option>
                <option value="secondary">Secundaria</option>
                <option value="bachelor">Licenciatura/Grado</option>
                <option value="master">Maestría/Máster</option>
                <option value="doctorate">Doctorado</option>
                <option value="other">Otro</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="occupation">Ocupación actual:</label>
            <input type="text" id="occupation" name="occupation" required>
        </div>
        
        <button id="start-test-btn" class="primary-btn">Comenzar el Test</button>
    </div>
    
    <!-- Test instructions (will be shown after demographics) -->
    <div id="test-instructions" class="section" style="display: none;">
        <h2>Instrucciones</h2>
        <p>Marca la opción que mejor refleje tu comportamiento habitual:</p>
        <ul>
            <li><strong>NUNCA</strong>: No lo hago en ninguna ocasión</li>
            <li><strong>ALGUNAS VECES</strong>: Lo hago en algunas situaciones</li>
            <li><strong>SIEMPRE</strong>: Lo hago de manera constante</li>
        </ul>
        <button id="show-questions-btn" class="primary-btn">Continuar</button>
    </div>
    
    <!-- Container for dynamically generated questions (initially hidden) -->
    <div id="test-container" class="section" style="display: none;">
        <!-- Questions will be generated here by JavaScript -->
    </div>
    
    <!-- Button to submit the test and calculate results -->
    <button id="submit-btn" class="primary-btn" style="display: none;">Calcular Resultados</button>
    
    <!-- Results section (hidden initially) -->
    <div id="results" class="section" style="display: none;">
        <h2>Resultados del Test</h2>
        <!-- Progress bar to visualize the score -->
        <div class="progress-container">
            <div class="progress-bar" id="score-bar"></div>
        </div>
        <p>Tu puntuación es: <span id="score"></span> puntos de 90 posibles</p>
        <p class="result-category" id="category"></p>
        <div id="interpretation"></div>
        <!-- Button to restart the test -->
        <button class="restart-btn secondary-btn" id="restart-btn">Finalizar</button>
    </div>

    <!-- Thank you message after saving results -->
    <div id="thank-you" class="section" style="display: none;">
        <h2>¡Gracias por completar el test!</h2>
        <p>Tus respuestas han sido guardadas correctamente.</p>
        <p>Los resultados ayudarán en el análisis de la inteligencia emocional.</p>
        <button class="primary-btn" id="new-test-btn">Realizar un nuevo test</button>
    </div>
    
    <!-- Loading indicator -->
    <div id="loading" class="loading-overlay" style="display: none;">
        <div class="loading-spinner"></div>
        <p>Guardando datos...</p>
    </div>
    
    <!-- Link to external JavaScript file -->
    <script src="script.js"></script>
</body>
</html>